(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,n){e.exports=n(75)},51:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),o=n.n(i),l=(n(51),n(1)),c=n(6),u=n(3),s=n(2),m=n(4),f=n(5),d=n(16),h=n(7),p=n(9),b=n.n(p),v="GET_USER",E=function(e){return{type:v,user:e}},g=n(18),y=n(41),O=n(42),w=n.n(O),_=n(43);var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(_.a)({},e,{user:t.user});default:return e}},j="CREATE_USER",C=function(e){return function(t){return b.a.post("http://localhost:5000/api/users",e).then(function(e){return e.data}).then(function(e){return t(function(e){return{type:j,payload:e}}(e))}).catch(function(e){return console.log(e)})}};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.payload;default:return e}},I=n(30),P="ADD_FAVORITE",A="DELETE_FAVORITE",N="FETCH_FAVORITES",R=function(e,t){return function(n){return b.a.post("http://localhost:5000/api/users/".concat(t,"/players/").concat(e),e).then(function(e){return e.data}).then(function(e){return n(function(e){return{type:P,payload:e}}(e))}).catch(function(e){return console.log(e)})}},L=function(e,t){return function(n){return console.log(t),b.a.delete("http://localhost:5000/api/users/".concat(t,"/players/").concat(e),e).then(function(e){return e.data}).then(function(e){return n(function(e){return{type:A,payload:e}}(e))}).catch(function(e){return console.log(e)})}},D=function(e){return function(t){return console.log("user id ",e),b.a.get("http://localhost:5000/api/users/".concat(e,"/favorites/")).then(function(e){for(var n=e.data.map(function(e){return e.id}),a=[],r=0;r<n.length;r++){console.log("THE LOOP IS RUNNING THE LOOP IS RUNNING THE LOOP IS RUNNING ");var i=n[r];b.a.get("https://www.balldontlie.io/api/v1/stats?seasons[]=2018&player_ids[]=".concat(i,"&per_page=100")).then(function(e){console.log("RESULT OF API CALL =======>>>",e),console.log("stats is ",e.data.data);var t=e.data.data.sort(function(e,t){return new Date(t.game.date)-new Date(e.game.date)}),n={playerName:t[0].player.first_name+" "+t[0].player.last_name,stats:t};return a.push(n),a}).then(function(e){return t({type:N,payload:e})}).catch(function(e){return console.log(e)})}}).catch(function(e){return console.log(e)})}};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return[].concat(Object(I.a)(e),[t.payload.playerId]);case A:return e.filter(function(e){return e!==t.payload.playerId});case N:return[].concat(Object(I.a)(e),[t.payload]);default:return e}},W=Object(g.c)({loginReducer:S,signUpReducer:k,favoriteReducer:T}),F=y.a,U=Object(g.d)(W,Object(g.a)(F,w.a)),H=n(27),M=n.n(H),B=n(44),x=n(24),z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){""===e.target.value?n.fetchSearch("ababababababab"):n.fetchSearch(e.target.value)},n.state={results:[]},n.fetchSearch=n.fetchSearch.bind(Object(x.a)(n)),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"fetchSearch",value:function(){var e=Object(B.a)(M.a.mark(function e(t){var n,a,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://www.balldontlie.io/api/v1/players?search="+t,e.prev=1,e.next=4,b.a.get(n);case 4:a=e.sent,r=a.data,this.setState({results:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.results.map(function(e){return r.a.createElement(f.b,{to:"/player/".concat(e.id),key:e.id},r.a.createElement("li",null," ",e.first_name+"\n"," ",e.last_name+"\n"," "))});return r.a.createElement("div",null,r.a.createElement("form",{name:"PlayerSearch"},r.a.createElement("input",{type:"text",name:"query",placeholder:"Search for a player",onChange:this.handleChange})),r.a.createElement("ul",null,e))}}]),t}(a.Component),G=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleLogOut=function(){n.props.logOut()},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.user.id?r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement(f.b,{to:"/"}," Home "),r.a.createElement(f.b,{to:"/",onClick:this.handleLogOut},"Logout"),r.a.createElement(z,null))):r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement(f.b,{to:"/"}," Home "),r.a.createElement(f.b,{to:"/Login"}," Login "),r.a.createElement(f.b,{to:"/SignUp"}," Sign Up "),r.a.createElement(z,null)))}}]),t}(a.Component),K=Object(h.b)(function(e){return{user:e.loginReducer.user}},function(e){return{logOut:function(){e(function(e){return b.a.delete("http://localhost:5000/api/auth/logout").then(function(){return e(E({}))}).catch(function(e){return console.log(e)})})}}})(G),Y={data:[{id:1,abbreviation:"ATL",city:"Atlanta",conference:"East",division:"Southeast",full_name:"Atlanta Hawks",name:"Hawks"},{id:2,abbreviation:"BOS",city:"Boston",conference:"East",division:"Atlantic",full_name:"Boston Celtics",name:"Celtics"},{id:3,abbreviation:"BKN",city:"Brooklyn",conference:"East",division:"Atlantic",full_name:"Brooklyn Nets",name:"Nets"},{id:4,abbreviation:"CHA",city:"Charlotte",conference:"East",division:"Southeast",full_name:"Charlotte Hornets",name:"Hornets"},{id:5,abbreviation:"CHI",city:"Chicago",conference:"East",division:"Central",full_name:"Chicago Bulls",name:"Bulls"},{id:6,abbreviation:"CLE",city:"Cleveland",conference:"East",division:"Central",full_name:"Cleveland Cavaliers",name:"Cavaliers"},{id:7,abbreviation:"DAL",city:"Dallas",conference:"West",division:"Southwest",full_name:"Dallas Mavericks",name:"Mavericks"},{id:8,abbreviation:"DEN",city:"Denver",conference:"West",division:"Northwest",full_name:"Denver Nuggets",name:"Nuggets"},{id:9,abbreviation:"DET",city:"Detroit",conference:"East",division:"Central",full_name:"Detroit Pistons",name:"Pistons"},{id:10,abbreviation:"GSW",city:"Golden State",conference:"West",division:"Pacific",full_name:"Golden State Warriors",name:"Warriors"},{id:11,abbreviation:"HOU",city:"Houston",conference:"West",division:"Southwest",full_name:"Houston Rockets",name:"Rockets"},{id:12,abbreviation:"IND",city:"Indiana",conference:"East",division:"Central",full_name:"Indiana Pacers",name:"Pacers"},{id:13,abbreviation:"LAC",city:"LA",conference:"West",division:"Pacific",full_name:"LA Clippers",name:"Clippers"},{id:14,abbreviation:"LAL",city:"Los Angeles",conference:"West",division:"Pacific",full_name:"Los Angeles Lakers",name:"Lakers"},{id:15,abbreviation:"MEM",city:"Memphis",conference:"West",division:"Southwest",full_name:"Memphis Grizzlies",name:"Grizzlies"},{id:16,abbreviation:"MIA",city:"Miami",conference:"East",division:"Southeast",full_name:"Miami Heat",name:"Heat"},{id:17,abbreviation:"MIL",city:"Milwaukee",conference:"East",division:"Central",full_name:"Milwaukee Bucks",name:"Bucks"},{id:18,abbreviation:"MIN",city:"Minnesota",conference:"West",division:"Northwest",full_name:"Minnesota Timberwolves",name:"Timberwolves"},{id:19,abbreviation:"NOP",city:"New Orleans",conference:"West",division:"Southwest",full_name:"New Orleans Pelicans",name:"Pelicans"},{id:20,abbreviation:"NYK",city:"New York",conference:"East",division:"Atlantic",full_name:"New York Knicks",name:"Knicks"},{id:21,abbreviation:"OKC",city:"Oklahoma City",conference:"West",division:"Northwest",full_name:"Oklahoma City Thunder",name:"Thunder"},{id:22,abbreviation:"ORL",city:"Orlando",conference:"East",division:"Southeast",full_name:"Orlando Magic",name:"Magic"},{id:23,abbreviation:"PHI",city:"Philadelphia",conference:"East",division:"Atlantic",full_name:"Philadelphia 76ers",name:"76ers"},{id:24,abbreviation:"PHX",city:"Phoenix",conference:"West",division:"Pacific",full_name:"Phoenix Suns",name:"Suns"},{id:25,abbreviation:"POR",city:"Portland",conference:"West",division:"Northwest",full_name:"Portland Trail Blazers",name:"Trail Blazers"},{id:26,abbreviation:"SAC",city:"Sacramento",conference:"West",division:"Pacific",full_name:"Sacramento Kings",name:"Kings"},{id:27,abbreviation:"SAS",city:"San Antonio",conference:"West",division:"Southwest",full_name:"San Antonio Spurs",name:"Spurs"},{id:28,abbreviation:"TOR",city:"Toronto",conference:"East",division:"Atlantic",full_name:"Toronto Raptors",name:"Raptors"},{id:29,abbreviation:"UTA",city:"Utah",conference:"West",division:"Northwest",full_name:"Utah Jazz",name:"Jazz"},{id:30,abbreviation:"WAS",city:"Washington",conference:"East",division:"Southeast",full_name:"Washington Wizards",name:"Wizards"}],meta:{total_pages:1,current_page:1,next_page:null,per_page:30,total_count:30}},J=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).componentDidUpdate=function(e){e!==n.props&&n.setState({playersInfo:n.props.playersInfo})},n.getTeam=function(e,t,n){for(var a=Y.data,r=0;r<a.length;r++){if(e==t&&a[r].id==n)return a[r].full_name;if(e==n&&a[r].id==t)return a[r].full_name}},n.getDate=function(e){return new Date(e).toDateString()},n.state={playersInfo:[]},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("Component did mount"),this.props.fetchFavorites(this.props.user.id),this.setState({playersInfo:this.props.playersInfo})}},{key:"render",value:function(){var e=this;return console.log("NEW RENDER",this.props),r.a.createElement("div",{className:"FeedRender"},r.a.createElement("h1",null," Feed "),r.a.createElement("hr",null),this.props.user.id&&this.props.playersInfo[0]?r.a.createElement("div",null,r.a.createElement("p",null," FEED IS HERE "),console.log("player info is ",this.props.playersInfo),this.props.playersInfo[0].map(function(t){return r.a.createElement("div",null,console.log("player is ",t),r.a.createElement("h3",null," ",t.playerName," "),r.a.createElement(f.b,{to:"player/".concat(t.stats[0].player.id)},"View More"),t.stats.slice(0,5).map(function(t){return r.a.createElement("div",{key:t.game.id},r.a.createElement("h4",null,"Against: ",e.getTeam(t.team.id,t.game.home_team_id,t.game.visitor_team_id)," on"," "," ",e.getDate(t.game.date)),r.a.createElement("p",null," Points Scored: ",t.pts," "))}),r.a.createElement("hr",null))})):r.a.createElement("div",null,r.a.createElement("h3",null," PLEASE LOGIN TO SEE YOUR FEED "),r.a.createElement("h4",null," If you don't have an account, you can click here to",r.a.createElement(f.b,{to:"/signUp"}," sign up "))))}}]),t}(a.Component),V=Object(h.b)(function(e){return{playersInfo:e.favoriteReducer,user:e.loginReducer.user}},function(e){return{fetchFavorites:function(t){e(D(t))}}})(J),q=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.user.id?r.a.createElement("div",null,r.a.createElement("h1",null," Basketcase "),r.a.createElement(K,null),r.a.createElement(V,null)):r.a.createElement("div",null,r.a.createElement("h1",null," Basketcase "),r.a.createElement(K,null))}}]),t}(a.Component),X=Object(h.b)(function(e){return{user:e.loginReducer.user}},null)(q),$=n(17),Q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){n.setState(Object($.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e={email:n.state.email,password:n.state.password};n.props.userLogin(e)},n.state={email:"",password:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement("h1",null," Please Login Below "),r.a.createElement("form",{name:"Login"},r.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:this.handleChange})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})," ",r.a.createElement("br",null)),r.a.createElement("button",{type:"submit",onClick:this.handleSubmit}," Submit "),this.props.user.id&&r.a.createElement(d.a,{to:"/"}))}}]),t}(a.Component),Z=Object(h.b)(function(e){return{user:e.loginReducer.user}},function(e){return{userLogin:function(t){var n;e((n=t,function(e){return b.a.put("http://localhost:5000/api/auth/login",n).then(function(e){return e.data}).then(function(t){return e(E(t))}).catch(function(e){return console.log(e)})}))},fetchFavorites:function(t){e(D(t))}}})(Q),ee=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleChange=function(e){n.setState(Object($.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e={email:n.state.email,password:n.state.password};n.props.createUser(e)},n.state={email:"",password:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement("h1",null," Please Sign Up Below "),r.a.createElement("p",null,"If you already have an account, click here to ",r.a.createElement(f.b,{to:"/Login"}," login ")),r.a.createElement("form",{name:"SignUp"},r.a.createElement("h2",null," Please Enter Your Email ")," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:this.handleChange})," ",r.a.createElement("br",null),r.a.createElement("h2",null," Please Enter a Password ")," ",r.a.createElement("br",null),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})," ",r.a.createElement("br",null))," ",r.a.createElement("br",null),r.a.createElement(f.b,{to:"/"},r.a.createElement("button",{type:"submit",onClick:this.handleSubmit}," Create Account ")))}}]),t}(a.Component),te=Object(h.b)(function(e){return{user:e.user}},function(e){return{createUser:function(t){e(C(t))}}})(ee),ne=(a.Component,function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).fetchSinglePlayerStats=function(){b.a.get("https://www.balldontlie.io/api/v1/stats?seasons[]=2018&player_ids[]="+n.state.id).then(function(e){var t=e.data.data.map(function(e){var t=e.game.visitor_team_id,n=Y.data.find(function(t){return t.id===e.game.home_team_id}),a=Y.data.find(function(e){return e.id===t});return e.game.visitorInfo=a,e.game.homeInfo=n,e});t.map(function(e){return e.game.id});console.log(t,"result");var a=t.sort(function(e,t){return new Date(t.game.date)-new Date(e.game.date)});n.setState({stats:a})}).catch(function(e){return console.log(e)})},n.fetchPlayerInformation=function(){b.a.get("https://www.balldontlie.io/api/v1/players/"+n.state.id).then(function(e){var t=e.data;n.setState({info:[t]})}).catch(function(e){return console.log(e)})},n.favorite=function(e){n.setState({favorite:!0}),n.props.addFavorite(e,n.props.user.id)},n.unFavorite=function(e){n.setState({favorite:!1}),n.props.deleteFavorite(e,n.props.user.id)},n.componentDidMount=function(){n.fetchSinglePlayerStats(),n.fetchPlayerInformation()},n.state={id:n.props.match.params.id,stats:[],info:[],gameID:"48760",favorite:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(K,null),this.state.favorite?r.a.createElement("button",{onClick:function(){return e.unFavorite(e.state.id)}}," Unfavorite "):r.a.createElement("button",{onClick:function(){return e.favorite(e.state.id)}}," Favorite "),this.state.info.map(function(e){return r.a.createElement("div",null,e.first_name," ",e.last_name," ",r.a.createElement("br",null),"Height: ",e.height_feet,"' ",e.height_inches,'" ',r.a.createElement("br",null),"Weight: ",e.weight_pounds," ",r.a.createElement("br",null),r.a.createElement("br",null),"Team: ",e.team.full_name," | ",e.team.conference," Conference ",r.a.createElement("br",null),"Position: ",e.position," ",r.a.createElement("br",null))}),this.state.stats.map(function(e){return r.a.createElement("div",null,r.a.createElement("br",null),"Game Date: ",e.game.date," ",r.a.createElement("br",null),e.game.homeInfo.full_name,": ",e.game.home_team_score," ",r.a.createElement("br",null),e.game.visitorInfo.full_name,": ",e.game.visitor_team_score," ",r.a.createElement("br",null),"Points: ",e.pts,r.a.createElement("br",null),"Rebounds: ",e.dreb,r.a.createElement("br",null),"Assists: ",e.ast,r.a.createElement("br",null),"Field Goal %: ",e.fg_pct,r.a.createElement("br",null),"Blocks: ",e.blk,r.a.createElement("br",null),"Free Throw %: ",e.ft_pct," ",r.a.createElement("br",null))}))}}]),t}(a.Component)),ae=Object(h.b)(function(e){return{user:e.loginReducer.user}},function(e){return{addFavorite:function(t,n){e(R(t,n))},deleteFavorite:function(t,n){e(L(t,n))}}})(ne),re=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={favorites:[]},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Favorites"))}}]),t}(a.Component),ie=Object(h.b)(function(e){return{favorites:e.favoriteReducer,user:e.loginReducer.user}},function(e){return{addFavorite:function(t){return e(R(t))},deleteFavorite:function(t){return e(L(t))},fetchFavorites:function(t){return e(D(t))}}})(re),oe=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).call(this,e))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.intializeData()}},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(d.b,{exact:!0,path:"/",component:X}),r.a.createElement(d.b,{exact:!0,path:"/login",component:Z}),r.a.createElement(d.b,{exact:!0,path:"/signUp",component:te}),r.a.createElement(d.b,{exact:!0,path:"/player",component:z}),r.a.createElement(d.b,{exact:!0,path:"/player/:id",render:function(e){return r.a.createElement(ae,e)}}),r.a.createElement(d.b,{exact:!0,path:"/favorites",component:function(){return r.a.createElement(ie,null)}}))}}]),t}(a.Component),le=Object(h.b)(null,function(e){return{intializeData:function(){e(function(e){return b.a.get("http://localhost:5000/api/auth/me").then(function(e){return e.data}).then(function(t){return e(E(t))}).catch(function(e){return console.log(e)})})}}})(oe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h.a,{store:U},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,1,2]]]);
//# sourceMappingURL=main.cd9a950b.chunk.js.map